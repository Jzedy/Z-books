# 数据结构--红黑树
R-B Tree，全称是Red-Black Tree，又称为“红黑树”，它一种特殊的二叉查找树。红黑树的每个节点上都有存储位表示节点的颜色，可以是红(Red)或黑(Black)
## 定义
     1. 红黑树的节点不是黑色的就是红色的

     2. 红黑树的根节点一定是黑色的
    
     3. 红黑树的所有叶子节点都是黑色的（注意：红黑树的叶子节点指Nil节点）
    
     4. 红黑树任何路径上不允许出现相邻两个红色节点
    
     5. 从红黑树的任一节点开始向下到任意叶子节点所经过的黑色节点数目相同
  
## 节点定义
```
class Node<T>{
    private T key;
    private Node<T> left;//左子节点
    private Node<T> right;//右子节点
    private Node<T> parent;//父节点
    private boolean color;//颜色

    public Node(T key, Node<T> parent) {
        this.key = key;
        this.parent = parent;
    }
}
```

## 私有方法

```
 private Node<T> parentOf(Node<T> node){
    return node == null ? null : node.parent;
}

private Node<T> leftOf(Node<T> node){
    return node == null ? null : node.left;
}

private Node<T> rightOf(Node<T> node){
    return node == null ? null : node.right;
}

private boolean colorOf(Node<T> node){
    return node == null ? BLACK : node.color;
}

private void setColor(Node<T> node,boolean color){
    if (node != null){
        node.color = color;
    }
}

/**
 * 左旋(对x左旋) 下图为x为父节点的左子节点
 *        px                             px
 *       /                              /
 *     x             ==>              y
 *   / \                            / \
 * lx   y                         x   ry
 *    / \                       / \
 *  ly  ry                    lx  ly
 * @param x
 */
private void leftRotation(Node<T> x){
    if (x != null){
        Node<T> y = x.right;
        x.right = y.left;
        if (y.left != null){
            y.left.parent = x;
        }
        y.parent = x.parent;
        if (x.parent == null){
            root = y;
        }else if (x.parent.left == x){
            x.parent.left = y;
        }else {
            x.parent.right = y;
        }
        x.parent = y;
        y.left = x;
    }
}

/**
 *右旋(对x右旋) 下图为x为父节点的左子节点
 *             px                              px
 *           /                                /
 *         x                                y
 *       / \                              /  \
 *     y   rx          ==>               ly   x
 *    / \                               / \
 *  ly  ry                             ry  rx
 *
 * @param x
 */
private void rightRotation(Node<T> x){
    if (x != null){
        Node<T> y = x.left;
        x.left = y.right;
        if (y.right != null){
            y.right.parent = x;
        }
        y.parent = x.parent;
        if (x.parent == null){
            root = y;
        }else if (x.parent.left == x){
            x.parent.left = y;
        }else {
            x.parent.right = y;
        }
        y.right = x;
        x.parent = y;
    }
}
```

## 插入

